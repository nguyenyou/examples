<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Text Truncation Demo</title>
    <style>
      body {
        background-color: white;
        color: black;
        font-family: Arial, sans-serif;
        padding: 20px;
        margin: 0;
      }
      
      .demo-container {
        max-width: 600px;
        margin: 0 auto;
      }
      
      h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #333;
      }
      
      .instructions {
        background-color: #f5f5f5;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 30px;
        border-left: 4px solid #007bff;
      }
      
      .resizable-container {
        position: relative;
        border: 2px solid #007bff;
        border-radius: 8px;
        background-color: #f8f9fa;
        padding: 15px;
        min-width: 150px;
        max-width: 500px;
        width: 300px;
        margin: 20px 0;
      }
      
      .text-truncate {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        background-color: white;
        padding: 10px;
        border-radius: 4px;
        border: 1px solid #ddd;
        font-size: 14px;
        line-height: 1.4;
      }
      
      .resize-handle {
        position: absolute;
        right: -5px;
        top: 50%;
        transform: translateY(-50%);
        width: 10px;
        height: 30px;
        background-color: #007bff;
        border-radius: 5px;
        cursor: ew-resize;
        opacity: 0.7;
        transition: opacity 0.2s;
      }
      
      .resize-handle:hover {
        opacity: 1;
        background-color: #0056b3;
      }
      
      .resize-handle::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 4px;
        height: 16px;
        background: repeating-linear-gradient(
          to bottom,
          white 0px,
          white 2px,
          transparent 2px,
          transparent 4px
        );
      }
      
      .width-display {
        text-align: center;
        margin-top: 10px;
        font-size: 12px;
        color: #666;
        font-weight: bold;
      }
      
      .sample-texts {
        margin-top: 30px;
      }
      
      .sample-text-item {
        margin-bottom: 15px;
      }
      
      .sample-text-item label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #555;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <h1>Text Truncation Demo</h1>
      
      <div class="instructions">
        <strong>Instructions:</strong> Drag the blue handle on the right to resize the container and see how text truncation works with different widths.
      </div>
      
      <div class="resizable-container" id="resizableContainer">
        <div class="text-truncate" id="truncateText">
          Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur
          earum inventore illo dolor natus sed rem labore, modi iure alias
          repellendus voluptatibus nulla impedit, harum assumenda ut, libero omnis.
          Ad.
        </div>
        <div class="resize-handle" id="resizeHandle"></div>
        <div class="width-display" id="widthDisplay">Width: 300px</div>
      </div>
      
      <div class="sample-texts">
        <h3>Try different text samples:</h3>
        
        <div class="sample-text-item">
          <label>
            <input type="radio" name="textSample" value="lorem" checked>
            Lorem Ipsum (Default)
          </label>
        </div>
        
        <div class="sample-text-item">
          <label>
            <input type="radio" name="textSample" value="long-url">
            Long URL
          </label>
        </div>
        
        <div class="sample-text-item">
          <label>
            <input type="radio" name="textSample" value="file-path">
            File Path
          </label>
        </div>
        
        <div class="sample-text-item">
          <label>
            <input type="radio" name="textSample" value="email">
            Email Address
          </label>
        </div>
        
        <div class="sample-text-item">
          <label>
            <input type="radio" name="textSample" value="sentence">
            Long Sentence
          </label>
        </div>
      </div>
    </div>

    <script>
      const container = document.getElementById('resizableContainer');
      const handle = document.getElementById('resizeHandle');
      const widthDisplay = document.getElementById('widthDisplay');
      const truncateText = document.getElementById('truncateText');
      const textSamples = document.querySelectorAll('input[name="textSample"]');
      
      let isResizing = false;
      let startX = 0;
      let startWidth = 0;
      
      const sampleTexts = {
        lorem: "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur earum inventore illo dolor natus sed rem labore, modi iure alias repellendus voluptatibus nulla impedit, harum assumenda ut, libero omnis. Ad.",
        'long-url': "https://www.example.com/very/long/path/to/some/resource/that/might/be/truncated/in/a/user/interface/component.html?param1=value1&param2=value2&param3=value3",
        'file-path': "/Users/username/Documents/Projects/MyProject/src/components/ui/forms/validation/EmailValidationComponent.tsx",
        email: "very.long.email.address.that.might.need.truncation@some-company-with-a-long-domain-name.com",
        sentence: "This is a very long sentence that demonstrates how text truncation works when the content exceeds the available width of its container element."
      };
      
      // Handle resize functionality
      handle.addEventListener('mousedown', (e) => {
        isResizing = true;
        startX = e.clientX;
        startWidth = parseInt(document.defaultView.getComputedStyle(container).width, 10);
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', handleMouseUp);
        e.preventDefault();
      });
      
      function handleMouseMove(e) {
        if (!isResizing) return;
        
        const dx = e.clientX - startX;
        const newWidth = Math.max(150, Math.min(500, startWidth + dx));
        
        container.style.width = newWidth + 'px';
        widthDisplay.textContent = `Width: ${newWidth}px`;
      }
      
      function handleMouseUp() {
        isResizing = false;
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', handleMouseUp);
      }
      
      // Handle text sample changes
      textSamples.forEach(radio => {
        radio.addEventListener('change', (e) => {
          if (e.target.checked) {
            truncateText.textContent = sampleTexts[e.target.value];
          }
        });
      });
      
      // Touch support for mobile
      handle.addEventListener('touchstart', (e) => {
        isResizing = true;
        startX = e.touches[0].clientX;
        startWidth = parseInt(document.defaultView.getComputedStyle(container).width, 10);
        document.addEventListener('touchmove', handleTouchMove);
        document.addEventListener('touchend', handleTouchEnd);
        e.preventDefault();
      });
      
      function handleTouchMove(e) {
        if (!isResizing) return;
        
        const dx = e.touches[0].clientX - startX;
        const newWidth = Math.max(150, Math.min(500, startWidth + dx));
        
        container.style.width = newWidth + 'px';
        widthDisplay.textContent = `Width: ${newWidth}px`;
        e.preventDefault();
      }
      
      function handleTouchEnd() {
        isResizing = false;
        document.removeEventListener('touchmove', handleTouchMove);
        document.removeEventListener('touchend', handleTouchEnd);
      }
    </script>
  </body>
</html>
